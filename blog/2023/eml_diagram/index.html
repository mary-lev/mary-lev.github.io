<!DOCTYPE html> <html lang="en, ru"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Data Processing for SPbLitGuide project | Maria Levchenko </title> <meta name="author" content="Maria Levchenko"> <meta name="description" content="data pipeline giagram"> <meta name="keywords" content="NLP, machine learning, generative AI, natural language processing"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%98%AE%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://mary-lev.github.io/blog/2023/eml_diagram/"> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Maria </span> Levchenko </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Data Processing for SPbLitGuide project</h1> <p class="post-meta"> October 04, 2023 </p> <p class="post-tags"> <a href="/blog/2023"> <i class="fa-solid fa-calendar fa-sm"></i> 2023 </a>   ·   <a href="/blog/tag/spblitguide"> <i class="fa-solid fa-hashtag fa-sm"></i> SPbLitGuide,</a>   <a href="/blog/tag/nlp"> <i class="fa-solid fa-hashtag fa-sm"></i> NLP,</a>   <a href="/blog/tag/ner"> <i class="fa-solid fa-hashtag fa-sm"></i> NER,</a>   <a href="/blog/tag/network"> <i class="fa-solid fa-hashtag fa-sm"></i> network</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>The data processing pipeline for the literary events dataset involved several stages, each crucial for transforming raw data into a structured and analyzable format. Here’s a scheme:</p> <h2 id="data-model">Data Model</h2> <pre><code class="language-mermaid">sequenceDiagram
    participant EML as EML files
    participant WP as Wordpress Database
    participant Python as Python
    participant Tidy as Tidy Data
    participant Yandex as Yandex API
    participant AI as AI Enrichment (DeepPavlov &amp; LLM)
    participant Network as Network Graph

    EML-&gt;&gt;WP: Import EML files
    WP-&gt;&gt;Python: Export XML file
    Python-&gt;&gt;Tidy: processing
    Yandex-&gt;&gt;Tidy: geo coordinates
    Tidy--&gt;&gt;AI: NER
    Tidy-&gt;&gt;Network: NetworkX
</code></pre> <ol> <li>Data Sourcing: <ul> <li>Source: Electronic mail (EML) files uploaded to a WordPress site.</li> <li>Content: 1,157 issues of mailing lists containing event details, dates, places, and sources.</li> <li>Format: XML with HTML tags, inconsistent addresses, and typos.</li> </ul> </li> <li>Data Cleaning and Preprocessing: <ul> <li>Regular expressions and filtering were used to remove unrelated sections and HTML tags.</li> <li>The cleaned data was structured into a CSV format with columns for event date, description, source, issue title, permalink, and publication date.</li> <li>Result: 44,930 records of events.</li> </ul> </li> <li>Duplicate Filtering: <ul> <li>Fuzzy matching algorithms identified and eliminated duplicates.</li> <li>Outcome: 14,498 unique events.</li> </ul> </li> <li>Named Entity Recognition (NER): <ul> <li>Natasha library extracted dates, addresses, and places, often marked with HTML tags.</li> <li>DeepPavlov library extracted persons’ names.</li> <li>Pandas and difflib libraries standardized venue names and addresses.</li> <li>Result: A dataset with 14,498 literary events, 862 venues, 817 unique addresses, and a comprehensive list of names.</li> </ul> </li> <li>Geographical Coordinates Extraction: <ul> <li>Yandex Geocoder API extracted geographical coordinates from standardized addresses.</li> <li>Outcome: Latitude and longitude coordinates for each unique address.</li> </ul> </li> </ol> <p>This pipeline effectively transformed a large volume of unstructured data into a clean, structured dataset suitable for further analysis and visualization. The use of various libraries and APIs ensured accurate extraction and standardization of key information, making the dataset a valuable resource for understanding literary events and their geographical distribution.</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2021/diagrams/">Data Modeling for SPbLitGuide project</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/dh-russia-spb-network/">St. Petersburg Literary Network (based on the SPbLitGuide newsletters)</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/graphs-networks-literary-communities/">Literary Communities in Saint Petersburg 1999-2019</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/dh2024-mapping-literary-space/">Mapping Literary Space: A Social Network from the Timeline of Cultural Events</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/aiucd-tei-encoding/">TEI Encoding as a Unified Structure for Multilingual Digital Editions</a> </li> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2025 Maria Levchenko. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script> <script src="https://d3js.org/d3.v7.min.js"></script> <script>let theme=localStorage.getItem("theme");document.querySelectorAll("pre>code.language-mermaid").forEach(e=>{const t=e.textContent,a=e.parentElement;a.classList.add("unloaded");let n=document.createElement("pre");n.classList.add("mermaid");const d=document.createTextNode(t);n.appendChild(d),a.after(n)}),mermaid.initialize({theme:theme}),"undefined"!=typeof d3&&window.addEventListener("load",function(){d3.selectAll(".mermaid svg").each(function(){var e=d3.select(this);e.html("<g>"+e.html()+"</g>");var t=e.select("g"),a=d3.zoom().on("zoom",function(e){t.attr("transform",e.transform)});e.call(a)})});</script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?4a129fbf39254905f505c7246e641eaf"></script> <script defer src="/assets/js/copy_code.js?7254ae07fe9cc5f3a10843e1c0817c9c" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-EFTKWKXYR0"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-EFTKWKXYR0");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>