<!DOCTYPE html> <html lang="en, ru"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> ALTO-to-TEI Converter | Maria Levchenko </title> <meta name="author" content="Maria Levchenko"> <meta name="description" content="Document Processing Toolkit for eScriptorium Output"> <meta name="keywords" content="NLP, machine learning, generative AI, natural language processing"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%98%AE%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://mary-lev.github.io/projects/3_project/"> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Maria¬†</span> Levchenko </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">ALTO-to-TEI Converter</h1> <p class="post-description">Document Processing Toolkit for eScriptorium Output</p> </header> <article> <p><strong>ALTO-to-TEI Converter</strong> is a comprehensive Python toolkit for converting eScriptorium ALTO XML files to TEI (Text Encoding Initiative) format, with full support for the Segmonto ontology for document structure classification. This tool bridges the gap between OCR/HTR output and structured scholarly markup.</p> <h2 id="-two-conversion-modes">üéØ Two Conversion Modes</h2> <h3 id="-page-level-converter-alto2teipy">üìÑ Page-Level Converter (alto2tei.py)</h3> <ul> <li> <strong>Individual file processing</strong>: Converts ALTO files to corresponding TEI files</li> <li> <strong>Structure preservation</strong>: Maintains original document layout and line breaks</li> <li> <strong>Small collections</strong>: Ideal for analyzing individual pages or focused document sets</li> </ul> <h3 id="-book-level-converter-alto2teibookpy">üìö Book-Level Converter (alto2teibook.py)</h3> <ul> <li> <strong>Complete book conversion</strong>: Uses METS.xml for proper page ordering</li> <li> <strong>Advanced text processing</strong>: Cross-page paragraph merging with hyphenation handling</li> <li> <strong>Unified output</strong>: Generates single TEI document with optional facsimile zones</li> <li> <strong>Machine-readable texts</strong>: Perfect for computational analysis and digital editions</li> </ul> <h2 id="Ô∏è-core-architecture-principles">üèóÔ∏è Core Architecture Principles</h2> <h3 id="1-segmonto-ontology-compliance">1. Segmonto Ontology Compliance</h3> <p>The converter implements the <strong>Segmonto ontology</strong> - a controlled vocabulary for semantic annotation of historical document layouts:</p> <ul> <li> <strong>Zone Classification</strong>: Standardized zone types (<code class="language-plaintext highlighter-rouge">MainZone</code>, <code class="language-plaintext highlighter-rouge">MarginZone:note</code>, <code class="language-plaintext highlighter-rouge">GraphicZone</code>)</li> <li> <strong>Hierarchical Names</strong>: Colon-separated classification system for precise semantic markup</li> <li> <strong>Semantic Consistency</strong>: Maintains relationships between document regions across manuscripts</li> </ul> <h3 id="2-yaml-driven-configuration">2. YAML-Driven Configuration</h3> <p>All transformation rules are externalized in YAML files, enabling:</p> <ul> <li> <strong>Maintainability</strong>: Updates without code changes</li> <li> <strong>Flexibility</strong>: Support for different document types and ontologies</li> <li> <strong>Transparency</strong>: Clear, readable transformation rules</li> <li> <strong>Extensibility</strong>: Simple addition of new zone and line types</li> </ul> <h3 id="3-tei-best-practices">3. TEI Best Practices</h3> <p>Generates standards-compliant TEI XML with:</p> <ul> <li> <strong>Semantic Markup</strong>: Meaningful element names reflecting content structure</li> <li> <strong>Metadata Preservation</strong>: Page numbers, image references, document hierarchy</li> <li> <strong>Poetry Handling</strong>: Proper <code class="language-plaintext highlighter-rouge">&lt;lg&gt;</code> and <code class="language-plaintext highlighter-rouge">&lt;l&gt;</code> element grouping</li> <li> <strong>Footnote Management</strong>: Structured annotation with automatic symbol recognition</li> </ul> <h2 id="-document-processing-pipeline">üîß Document Processing Pipeline</h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ALTO XML ‚Üí Parse Tags ‚Üí Classify Zones ‚Üí Process Lines ‚Üí Generate TEI
    ‚Üì           ‚Üì           ‚Üì             ‚Üì            ‚Üì
eScriptorium  Segmonto   YAML Rules   Line Types   TEI XML
</code></pre></div></div> <h2 id="-zone-classification-system">üìä Zone Classification System</h2> <table> <thead> <tr> <th>Zone Type</th> <th>Segmonto Category</th> <th>Processing</th> <th>TEI Output</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">MainZone</code></td> <td>Primary text content</td> <td>Process all lines</td> <td> <code class="language-plaintext highlighter-rouge">&lt;p&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;lg&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;head&gt;</code> </td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">MarginTextZone:note</code></td> <td>Footnote annotations</td> <td>Extract as footnotes</td> <td><code class="language-plaintext highlighter-rouge">&lt;note type="footnote"&gt;</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">MarginTextZone:outer</code></td> <td>Outer margin content</td> <td>Process lines</td> <td> <code class="language-plaintext highlighter-rouge">&lt;p&gt;</code> or specialized elements</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">NumberingZone</code></td> <td>Page numbering</td> <td>Extract page numbers</td> <td><code class="language-plaintext highlighter-rouge">&lt;pb n="..." facs="..."&gt;</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">RunningTitleZone</code></td> <td>Running headers/titles</td> <td>Process lines</td> <td> <code class="language-plaintext highlighter-rouge">&lt;p&gt;</code> with context</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">QuireMarksZone</code></td> <td>Quire markings</td> <td>Process lines</td> <td> <code class="language-plaintext highlighter-rouge">&lt;p&gt;</code> with context</td> </tr> </tbody> </table> <h2 id="-line-type-processing">üî§ Line Type Processing</h2> <table> <thead> <tr> <th>Line Type</th> <th>Purpose</th> <th>TEI Element</th> <th>Container</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">HeadingLine</code></td> <td>Section headings</td> <td><code class="language-plaintext highlighter-rouge">&lt;head&gt;</code></td> <td>Standalone</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">CustomLine:paragraph_start</code></td> <td>Begin paragraph</td> <td><code class="language-plaintext highlighter-rouge">&lt;p&gt;</code></td> <td>Auto-closed</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">CustomLine:verse</code></td> <td>Poetry lines</td> <td><code class="language-plaintext highlighter-rouge">&lt;l&gt;</code></td> <td><code class="language-plaintext highlighter-rouge">&lt;lg type="verse"&gt;</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">CustomLine:speaker</code></td> <td>Speaker names</td> <td><code class="language-plaintext highlighter-rouge">&lt;speaker&gt;</code></td> <td>Standalone</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">CustomLine:catchword</code></td> <td>Page catchwords</td> <td><code class="language-plaintext highlighter-rouge">&lt;fw type="catchword"&gt;</code></td> <td>Standalone</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">CustomLine:signature</code></td> <td>Technical marks</td> <td><code class="language-plaintext highlighter-rouge">&lt;fw type="signature"&gt;</code></td> <td>Standalone</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">DefaultLine</code></td> <td>Regular text</td> <td>Add to <code class="language-plaintext highlighter-rouge">&lt;p&gt;</code> </td> <td>Current paragraph</td> </tr> </tbody> </table> <h2 id="Ô∏è-configuration-example">‚öôÔ∏è Configuration Example</h2> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">block_types</span><span class="pi">:</span>
  <span class="na">MainZone</span><span class="pi">:</span>
    <span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Main</span><span class="nv"> </span><span class="s">text</span><span class="nv"> </span><span class="s">content</span><span class="nv"> </span><span class="s">blocks"</span>
    <span class="na">process_lines</span><span class="pi">:</span> <span class="kc">true</span>
    <span class="na">skip_content</span><span class="pi">:</span> <span class="kc">false</span>
  
  <span class="s2">"</span><span class="s">MarginTextZone:note"</span><span class="err">:</span>  <span class="c1"># Segmonto hierarchical naming</span>
    <span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Footnote</span><span class="nv"> </span><span class="s">blocks"</span>
    <span class="na">process_lines</span><span class="pi">:</span> <span class="kc">false</span>
    <span class="na">extract_footnote</span><span class="pi">:</span> <span class="kc">true</span>
    <span class="na">tei_element</span><span class="pi">:</span> <span class="s2">"</span><span class="s">note"</span>
    <span class="na">attributes</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">footnote"</span>

<span class="na">line_types</span><span class="pi">:</span>
  <span class="s2">"</span><span class="s">CustomLine:paragraph_start"</span><span class="err">:</span>
    <span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Beginning</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">paragraph"</span>
    <span class="na">action</span><span class="pi">:</span> <span class="s2">"</span><span class="s">start_paragraph"</span>
    <span class="na">tei_element</span><span class="pi">:</span> <span class="s2">"</span><span class="s">p"</span>
    <span class="na">closes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">poetry"</span>
  
<span class="err">  </span><span class="s2">"</span><span class="s">CustomLine:verse"</span><span class="err">:</span>
    <span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Poetry</span><span class="nv"> </span><span class="s">lines"</span>
    <span class="na">tei_element</span><span class="pi">:</span> <span class="s2">"</span><span class="s">l"</span>
    <span class="na">container</span><span class="pi">:</span> <span class="s2">"</span><span class="s">lg"</span>
    <span class="na">container_attributes</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">verse"</span>
</code></pre></div></div> <h2 id="-usage-examples">üöÄ Usage Examples</h2> <h3 id="page-level-conversion">Page-Level Conversion</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Convert all ALTO files in 'alto' folder to 'tei' folder</span>
python alto2tei.py

<span class="c"># Specify input and output folders</span>
python alto2tei.py manuscripts output_tei

<span class="c"># Use custom configuration</span>
python alto2tei.py <span class="nt">--config</span> custom_mapping.yaml
</code></pre></div></div> <h3 id="book-level-conversion">Book-Level Conversion</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Convert entire book using METS.xml for page ordering</span>
python alto2teibook.py alto_book/

<span class="c"># Enable cross-page paragraph merging with facsimile zones</span>
python alto2teibook.py alto_book/ <span class="nt">--merge-lines</span> True <span class="nt">--facsimile</span> True

<span class="c"># Process without facsimile for pure text output</span>
python alto2teibook.py alto_book/ <span class="nt">--merge-lines</span> True <span class="nt">--facsimile</span> False
</code></pre></div></div> <h2 id="-real-world-performance">üìà Real-World Performance</h2> <p>Based on processing historical manuscript collections:</p> <h3 id="block-types-6-actively-used">Block Types (6 actively used):</h3> <ul> <li> <strong>MainZone</strong>: 100 files (102 instances) - Primary content</li> <li> <strong>NumberingZone</strong>: 89 files (91 instances) - Page numbers</li> <li> <strong>GraphicZone</strong>: 32 files (35 instances) - Graphics/decorations</li> <li> <strong>MarginTextZone:outer</strong>: 6 files (8 instances) - Margin content</li> <li> <strong>RunningTitleZone</strong>: 5 files (5 instances) - Running headers</li> <li> <strong>MarginTextZone:note</strong>: 4 files (4 instances) - Footnotes</li> </ul> <h3 id="line-types-6-actively-used">Line Types (6 actively used):</h3> <ul> <li> <strong>DefaultLine</strong>: 100 files (2,775 instances) - Regular text</li> <li> <strong>CustomLine:catchword</strong>: 75 files (75 instances) - Page catchwords</li> <li> <strong>CustomLine:verse</strong>: 2 files (50 instances) - Poetry lines</li> <li> <strong>CustomLine:paragraph_start</strong>: 7 files (30 instances) - Paragraph starts</li> <li> <strong>HeadingLine</strong>: 3 files (13 instances) - Section headers</li> <li> <strong>CustomLine:signature</strong>: 7 files (7 instances) - Signatures</li> </ul> <h2 id="-key-features">üåü Key Features</h2> <ul> <li> <strong>Segmonto Ontology Integration</strong>: Full support for hierarchical document structure classification</li> <li> <strong>Flexible Configuration</strong>: YAML-driven rules for different manuscript types</li> <li> <strong>Cross-Page Processing</strong>: Advanced paragraph merging across page boundaries</li> <li> <strong>Hyphenation Handling</strong>: Intelligent word reconstruction across page breaks</li> <li> <strong>TEI Compliance</strong>: Standards-compliant output with proper semantic markup</li> <li> <strong>Extensible Architecture</strong>: Easy addition of new document types and processing rules</li> </ul> <p>This toolkit serves as essential infrastructure for digital humanities projects working with historical documents, providing a robust bridge between automated transcription tools and scholarly digital editions.</p> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> ¬© Copyright 2025 Maria Levchenko. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?4a129fbf39254905f505c7246e641eaf"></script> <script defer src="/assets/js/copy_code.js?7254ae07fe9cc5f3a10843e1c0817c9c" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-EFTKWKXYR0"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-EFTKWKXYR0");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>